# Architecture

SAAV is a single-page web application.
It is written in http://www.scala-js.org/[Scala.js], using the https://github.com/japgolly/scalajs-react[scalajs-react] framework.
Scala.js compiles to JavaScript (JS).
When deployed, SAAV consists of just a few static HTML, CSS, and JS files.
There is no application server, just a web server, serving these static files.

## Model-View-Controller

SAAV's architecture is based on the Model-View-Controller (MVC) pattern.
It uses the following technologies in the individual layers:

### Model

The model layer is responsible for representing application state.
All model classes are written in plain Scala.
A _domain model_ is created by importing data from a CSV file.
The domain model is then enriched with UI state (colors, selections etc.).
This enriched model is known as the _application model_.
It encapsulates all state to be rendered by the view.

### View

The view is responsible for rendering the application model.
In a web app, "rendering" means "creating HTML".

SAAV uses https://github.com/japgolly/scalajs-react[React] to create HTML.
footnote:[In contrast to classical MVC frameworks like e.g. Angular, React is really _only_ the view layer.
http://blog.andrewray.me/reactjs-for-stupid-people["ReactJS For Stupid People"] explains this in detail.]

The view is also responsible for triggering model changes based on user interactions.
It does never change the model directly, but asks the controller to do so.

### Controller

The controller is responsible for managing the model.
It starts out with an initial application model (the composition of imported data and default UI state) and changes it as requested by the view.
SAAV uses the https://github.com/ochrons/diode[diode] library for application model management.
Whenever the model changes, the controller asks the view to re-render it.


## Principles
### Immutability
TODO

### Virtual DOM
TODO

### Action Handlers
TODO
